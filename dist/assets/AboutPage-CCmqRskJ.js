import{_ as j}from"./VPage.vue_vue_type_script_setup_true_lang-Dg0ne_pH.js";import{s as k}from"./index-B3tyz-zy.js";import{d as $,u as B,h as C,r as n,p as P,i as A,c as F,w as _,a as r,j as l,b as N,k as S,l as v,s as E,o as f,m as T,n as z}from"./index-CC3Qq7Jz.js";import{$ as i,_ as D}from"./ErrorMessage.vue_vue_type_script_setup_true_lang-Bz0-Ncgb.js";import"./index-D50fu7dH.js";const M={class:"flex justify-end mt-6"},O={key:0},R={class:"mt-4 md:col-span-3 grid gap-1"},K=$({__name:"AboutPage",async setup(U){var p;let s,d;const c=B(),{data:u,error:g}=([s,d]=C(()=>i("pages?where=title,about").json()),s=await s,d(),s),a=n(P(((p=u.value)==null?void 0:p[0])??{})),o=n(!1),m=n(null),b=async()=>{T(o,m);const{data:t,error:e}=a.value.id?await i(`pages/${a.value.id}`).put({data:a.value}).json():await i("pages").post({data:a.value}).json();z(o,m,e),t.value&&c.add({severity:"success",summary:"Success",detail:"Saved",life:3e3}),e.value&&c.add({severity:"error",summary:"Error",detail:e.value.message,life:3e3})},y=A(()=>{var t;return!((t=a.value.content)!=null&&t.description)});return(t,e)=>{const h=E,w=k,x=j;return f(),F(x,{header:"About Page"},{actions:_(()=>[r("div",M,[l(h,{onClick:b,loading:o.value,label:"Save",icon:"pi pi-save",disabled:o.value||y.value},null,8,["loading","disabled"])])]),default:_(()=>[r("div",null,[l(D,{error:v(g),shouldRetry:""},null,8,["error"]),v(u)?(f(),N("div",O,[r("div",R,[e[1]||(e[1]=r("label",{class:"text-sm font-medium"},"Description",-1)),l(w,{modelValue:a.value.content.description,"onUpdate:modelValue":e[0]||(e[0]=V=>a.value.content.description=V),modelModifiers:{trim:!0},rows:"18",fluid:"",class:"resize-none"},null,8,["modelValue"])])])):S("",!0)])]),_:1})}}});export{K as default};
