import{_ as w}from"./VPage.vue_vue_type_script_setup_true_lang-K2AxGuuA.js";import{s as B,a as $}from"./index-DOR5uEQU.js";import{$ as x,_ as C}from"./ErrorMessage.vue_vue_type_script_setup_true_lang-B43nygGB.js";import{d as N,h as R,r as S,c as u,w as a,a as l,b as _,k as p,l as s,j as e,p as V,t as j,s as K,R as T,o as n}from"./index-WTmT20yY.js";import"./index-CIvaEE9c.js";import"./index-DbUABEl7.js";import"./index-BMhA5Ota.js";import"./index-C3EPZ_z-.js";const A={class:"flex justify-end"},D={key:1,class:"overflow-auto"},E={class:"w-8 aspect-square rounded-full overflow-hidden bg-slate-200 dark:bg-slate-800"},I=["src"],O=N({__name:"Books",async setup(L){let r,i;const{data:c,error:d,execute:f}=([r,i]=R(()=>x("books").json()),r=await r,i(),r),h=S(!0);return(g,m)=>{const y=K,k=C,t=B,b=$,v=w;return n(),u(v,{header:"Books"},{actions:a(()=>[l("div",A,[e(s(T),{to:{name:"book-manager"}},{default:a(()=>[e(y,{label:"New",icon:"pi pi-plus"})]),_:1})])]),default:a(()=>[l("div",null,[s(d)?(n(),u(k,{key:0,error:s(d),"should-retry":"",onRetry:s(f)},null,8,["error","onRetry"])):s(c)?(n(),_("div",D,[e(b,{value:s(c),onRowClick:m[0]||(m[0]=o=>g.$router.push({name:"book-manager",params:{id:o.data.id}})),selectionMode:"single",metaKeySelection:h.value,dataKey:"id",size:"small"},{default:a(()=>[e(t,{header:"S/N"},{body:a(({index:o})=>[V(j(o+1),1)]),_:1}),e(t,null,{body:a(({data:o})=>[l("div",E,[o.coverImage?(n(),_("img",{key:0,src:o.coverImage,class:"w-full h-full object-cover"},null,8,I)):p("",!0)])]),_:1}),e(t,{field:"title",header:"Title"}),e(t,{field:"subtitle",header:"Subtitle"}),e(t,{field:"author",header:"Author"}),e(t,{field:"genre",header:"Genre"}),e(t,{field:"language",header:"Language"}),e(t,{field:"pages",header:"Pages"})]),_:1},8,["value","metaKeySelection"])])):p("",!0)])]),_:1})}}});export{O as default};
